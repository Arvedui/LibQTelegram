#ifndef DIALOGOBJECT_H
#define DIALOGOBJECT_H

#include <QObject>
#include "../autogenerated/types/types.h"
#include "messageobject.h"

class DialogObject : public QObject
{
    Q_OBJECT

    Q_PROPERTY(User* user READ user NOTIFY userChanged)
    Q_PROPERTY(Chat* chat READ chat NOTIFY chatChanged)
    Q_PROPERTY(QString title READ title NOTIFY titleChanged)
    Q_PROPERTY(MessageObject* topMessage READ topMessage NOTIFY topMessageChanged)

    public:
        explicit DialogObject(QObject *parent = 0);
        User* user() const;
        Chat* chat() const;
        QString title() const;
        MessageObject* topMessage() const;
        void setUser(User* user);
        void setChat(Chat* chat);
        void setTopMessage(MessageObject *messageobj);

    signals:
        void userChanged();
        void chatChanged();
        void titleChanged();
        void topMessageChanged();

    private:
        User* _user;
        Chat* _chat;
        MessageObject* _message;
};

#endif // DIALOGOBJECT_H
